@use "sass:list";
@use "sass:map";
@use "sass:meta";
@use "@/styles/tools/typography/config" as config;

$_fonts: config.$fonts;

@mixin font-face($data) {
	$font-family: map.get($data, font-family);
	$font-weight: map.get($data, font-weight) or 400;
	$font-style: map.get($data, font-style) or normal;
	$font-display: map.get($data, font-display) or swap;
	$url: map.get($data, url);

	@font-face {
		font-family: $font-family;
		font-weight: $font-weight;
		font-style: $font-style;
		font-display: $font-display;

		src: url($url + ".woff2") format("woff2"), url($url + ".woff") format("woff");
	}
}

@mixin load() {
	@if (meta.type-of($_fonts) == map) {
		@include font-face($_fonts);
	} @else {
		@each $font in $_fonts {
			@include font-face($font);
		}
	}
}
